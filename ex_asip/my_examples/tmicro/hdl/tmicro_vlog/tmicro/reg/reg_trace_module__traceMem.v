
// File generated by Go version O-2018.09#f5599cac26#190121, Tue May 28 10:11:02 2024
// Copyright 2014-2018 Synopsys, Inc. All rights reserved.
// go -B -I../lib -F -D__tct_patch__=300 -Verilog -otmicro_vlog -cgo_options.cfg -Itmicro_vlog/tmp_pdg -updg -updg_controller tmicro



`timescale 1ns/1ps

// module reg_trace_module__traceMem : reg_trace_module__traceMem
module reg_trace_module__traceMem
  // synopsys translate_off
  #(parameter reg_log = 1'b1,
    parameter reg_log_name = "trace_module__traceMem"
  )
  // synopsys translate_on
  ( input                    clock,
    input                    traceMem_trnMem_r_re_in, // std_logic
    input                    traceMem_trnMem_w_we_in, // std_logic
    input             [15:0] traceMem_trnMem_r_r_a_in, // addr
    input             [15:0] traceMem_trnMem_w_w_a_in, // addr
    input      signed [15:0] trnMem_w_in, // word
    output reg signed [15:0] trnMem_r_out // word
  );


  reg signed [15:0] reg_val[0:127];

  reg signed [15:0] reg_val_next[0:127];

  reg  [127:0] reg_write_enab;


  // synopsys translate_off

  reg [127:0] reg_write_log;
  reg [127:0] old_reg_write_log;
  initial reg_write_log <= {128{1'b0}};
  initial old_reg_write_log <= {128{1'b0}};

  always @ (negedge clock)
  begin : p_reg_trace_module__traceMem_log

    integer k;

    if (reg_log)
    begin
      for (k = 0; k <= 127; k = k + 1)
      begin
        if (reg_write_log[k] != old_reg_write_log[k])
        begin
          $fdisplay(tmicro.inst_reg_PC.log_file, "%s[%0d] = %0d", reg_log_name, k, $signed(reg_val[k]));
        end
        old_reg_write_log[k] <= reg_write_log[k];
      end
    end
  end
  // synopsys translate_on

  always @ (*)
  begin : p_read_reg_trace_module__traceMem

    trnMem_r_out = 0;

    // (trnMem_r_rd_trace_module__traceMem_traceMem_trnMem_r_r_a_traceMem_trnMem_r_\)
    if (traceMem_trnMem_r_re_in)
    begin
      trnMem_r_out = reg_val[traceMem_trnMem_r_r_a_in[6:0]];
    end

  end

  always @ (*)
  begin : p_write_combin_reg_trace_module__traceMem

    integer j;

    reg_write_enab = 0;
    for ( j = 0; j <= 127; j = j + 1)
      reg_val_next[j] = 0;


    // (trace_module__traceMem_wr_trnMem_w_traceMem_trnMem_w_w_a_traceMem_trnMem_w_\)
    if (traceMem_trnMem_w_we_in)
    begin
      reg_write_enab[traceMem_trnMem_w_w_a_in[6:0]] = 1'b1;
      reg_val_next[traceMem_trnMem_w_w_a_in[6:0]] = trnMem_w_in;
    end

  end

  always @ (posedge clock)
  begin : p_write_reg_trace_module__traceMem

    integer j;
    for ( j = 0; j <= 127; j = j + 1)
    begin
      if (reg_write_enab[j])
      begin
        reg_val[j] <= reg_val_next[j];
        // synopsys translate_off
        reg_write_log[j] <= ~reg_write_log[j];
        // synopsys translate_on
      end
    end
  end

endmodule
