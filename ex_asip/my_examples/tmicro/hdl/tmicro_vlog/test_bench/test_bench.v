
// File generated by Go version O-2018.09#f5599cac26#190121, Tue May 28 10:45:22 2024
// Copyright 2014-2018 Synopsys, Inc. All rights reserved.
// go -B -I../lib -F -D__tct_patch__=300 -Verilog -otmicro_vlog -cgo_options.cfg -Itmicro_vlog/tmp_pdg -updg -updg_controller tmicro



`timescale 1ns/1ps

module test_bench;
  wire clock;
  wire reset;
  wire [15:0] pm_read;
  wire [15:0] pm_addr;
  wire [15:0] pm_write;
  wire pm_st;
  wire pm_ld;
  wire signed [15:0] dm_read;
  wire [15:0] dm_addr;
  wire signed [15:0] dm_write;
  wire dm_st;
  wire dm_ld;
  wire dma_ready;
  wire [7:0] ireq_inp;
  wire halted_out;
  wire debug_out;
  wire trace_data_valid;
  wire [15:0] trace_data;
  wire [7:0] iack_out;
  wire jtag_tck;
  wire [15:0] jtag_ireg;
  wire jtag_si;
  wire jtag_so;
  wire jtag_capture_dr;
  wire jtag_update_dr;
  wire jtag_shift_dr;
  wire jtag_update_ir;
  wire dbg_ext_break;
  wire dbg_set_break;
  wire jtag_trst;
  wire [31:0] jtag_tap_si;
  wire jtag_tdi;
  wire jtag_tms;
  wire jtag_tap_so;
  wire jtag_tdo;

  parameter clock_period = 10;
  parameter reset_start = 12;
  parameter reset_width = 25;
  parameter ocd_clock_freq = 25;
  parameter PM_addr_size = 16;
  parameter PM_data_size = 16;
  parameter PM_file = "data.PM";
  parameter PM_id = 0;
  parameter PM_size = 65536;
  parameter reg_log = 1'b1;
  parameter DM_addr_size = 16;
  parameter DM_data_size = 16;
  parameter DM_file = "data.DM";
  parameter DM_id = 1;
  parameter DM_size = 65536;
  parameter nid = 1;

  clock_gen #(clock_period, reset_start, reset_width) inst_clock_gen(
      .reset_out(reset),
      .clock_out(clock));

  tb_irq_inp inst_tb_irq_inp(
      .reset(reset),
      .clock(clock),
      .ireq_inp_out(ireq_inp));

  tb_mem_PM #(PM_addr_size, PM_data_size, PM_file, PM_id, PM_size, reg_log) inst_tb_mem_PM(
      .reset(reset),
      .clock(clock),
      .pm_addr_in(pm_addr),
      .pm_ld_in(pm_ld),
      .pm_st_in(pm_st),
      .pm_write_in(pm_write),
      .pm_read_out(pm_read));

  tb_mem_DM #(DM_addr_size, DM_data_size, DM_file, DM_id, DM_size, reg_log) inst_tb_mem_DM(
      .reset(reset),
      .clock(clock),
      .dm_addr_in(dm_addr),
      .dm_ld_in(dm_ld),
      .dm_st_in(dm_st),
      .dm_write_in(dm_write),
      .dm_read_out(dm_read));

  tmicro #(reg_log, nid) inst_tmicro(
      .clock(clock),
      .reset_ext(reset),
      .pm_read_in(pm_read),
      .pm_addr_out(pm_addr),
      .pm_write_out(pm_write),
      .pm_st_out(pm_st),
      .pm_ld_out(pm_ld),
      .dm_read_in(dm_read),
      .dm_addr_out(dm_addr),
      .dm_write_out(dm_write),
      .dm_st_out(dm_st),
      .dm_ld_out(dm_ld),
      .dma_ready_in(dma_ready),
      .ireq_inp_in(ireq_inp),
      .halted_out_out(halted_out),
      .debug_out_out(debug_out),
      .trace_data_valid_out(trace_data_valid),
      .trace_data_out(trace_data),
      .iack_out_out(iack_out),
      .jtag_tck_in(jtag_tck),
      .jtag_ireg_in(jtag_ireg),
      .jtag_si_in(jtag_si),
      .jtag_so_out(jtag_so),
      .jtag_capture_dr_in(jtag_capture_dr),
      .jtag_update_dr_in(jtag_update_dr),
      .jtag_shift_dr_in(jtag_shift_dr),
      .jtag_update_ir_in(jtag_update_ir),
      .dbg_ext_break_in(dbg_ext_break),
      .dbg_set_break_out(dbg_set_break));

  jtag_tap_controller inst_jtag_tap_controller(
      .jtag_trst(jtag_trst),
      .jtag_tap_si_in(jtag_tap_si),
      .jtag_tck_in(jtag_tck),
      .jtag_tdi_in(jtag_tdi),
      .jtag_tms_in(jtag_tms),
      .jtag_capture_dr_out(jtag_capture_dr),
      .jtag_ireg_out(jtag_ireg),
      .jtag_shift_dr_out(jtag_shift_dr),
      .jtag_tap_so_out(jtag_tap_so),
      .jtag_tdo_out(jtag_tdo),
      .jtag_update_dr_out(jtag_update_dr),
      .jtag_update_ir_out(jtag_update_ir));

  jtag_emulator #(ocd_clock_freq) inst_jtag_emulator(
      .jtag_tdo_in(jtag_tdo),
      .jtag_tck_out(jtag_tck),
      .jtag_tdi_out(jtag_tdi),
      .jtag_tms_out(jtag_tms),
      .jtag_trst_out(jtag_trst));

  assign jtag_si = jtag_tap_so;
  assign jtag_tap_si[31:2] = 0;
  assign jtag_tap_si[1] = jtag_so;
  assign jtag_tap_si[0] = 0;
  assign dma_ready = 0;
  assign dbg_ext_break = 0;
endmodule
